// pseudo code
// Transaction Manager (TM)


// ageList
// waitList
// writeLockTable
// readLockTable

case: beginT(Tx) 
      // add T to ageList
      ageList.add(Tx).

case beginTR(Tx)
     //read only, copy 

case: fail(n)
     // make those site una/v
     db:fail(n)
     // kill all transaction that access site(n), except RO transaction     

case: recover(n)
      // make site n a/v
      db:recover(n)

case: R | W 
      while (TM:waitList != empty ){	
      	    
      }
